do (show DemoWindow);

do (listen (DemoWindow.on-resize))
    | concat-map (
        & { width, height }
        println ("Current Size: (#, #)" (str width) (str height))
    )
    | catch* (&(err)(crash err))
    | wait-complete;

do (listen (ChangeTextButton.clicked))
    | concat-map (&(_)(random ()))
    | map* (&(x)(str x))
    | concat-map (&(text)(TextDisplay | set-text text))
    | wait-complete;

do (listen (TextInput.text))
    | concat-map (
        & text
        (TextDisplay | set-text text)
        | then (println ("Current Text: #" text))
    )
    | catch* (&(err)(crash err))
    | wait-complete;

// do (wait { timeout: 1000000 });
