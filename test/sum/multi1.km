type ABC union {
     type A;
     type B;
     type C;
};

private function from:
    ( &(ABC) String )
	( &(x)
       switch x:
	       case A: 'A',
	       case B: 'B',
	       case C: 'C'
    );

private function f:
	( &(ABC,ABC) ABC )
	( &(x,y)
       switch* (x, y):
	       case [A,B]: C,
	       case [B,_]: B,
	       case [C,A]: B,
	       case [A,C]: B,
	       case [A,A]: A,
	       case [C,C]: C,
	       case [C,B]: A
    );

do println (str! (f A B))
   | catch (&(_)(crash 'I/O Error'));
