module Hello;

do (OS::Stdout | write-line 'Hello World')
   | catch       lambda _ exit 1
   | then        (OS::Stdout | write-line str! factorial 10)
   | catch       lambda _ exit 1
   | then        (OS::Stdout | write-line str! $(20 ** 11))
   | catch       lambda _ exit 1
   | then        exit 0;

private function factorial {
    lambda Int Int:
    lambda n
        if $(n <= 1) {
            1
        } else {
            $(n * (factorial $(n - 1)))
        }
};
