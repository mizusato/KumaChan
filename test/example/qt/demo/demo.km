do DemoWindow.show;

do DemoWindow.closed
    | concat-map (&(_)(exit 0))
    | forever;

do DemoWindow.resized
    | concat-map (
        & { width, height }
        println ("Current Size: (#, #)" (str width) (str height))
    )
    | catch* crash
    | forever;

do ChangeTextButton.clicked
    | concat-map random
    | map* (& x str x)
    | concat-map (&(text)(TextDisplay.set-text text))
    | forever;

do TextInput.text
    | debounce 300
    | concat-map (
        & text
        (TextDisplay.set-text text)
        | then (println ("Current Text: #" text))
    )
    | catch* crash
    | forever;
